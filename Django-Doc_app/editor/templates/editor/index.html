{% load static %}
<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Simple Google Docs-like editor built with Django + Quill.js. Offline-capable with autosave and exports." />
    <meta name="theme-color" content="#ffffff" id="meta-theme-color" />
    <title>Simple Google Docs Clone</title>

    <link rel="icon" href="{% static 'editor/favicon.svg' %}" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <!-- Quill CSS (Snow theme) -->
    <link href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css" rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

    <!-- App styles -->
    <link href="{% static 'editor/css/styles.css' %}" rel="stylesheet" />
  </head>
  <body>
    <noscript>This app requires JavaScript to run.</noscript>

    <!-- App bar -->
    <header class="appbar">
      <div class="appbar__left">
        <i class="fa-solid fa-note-sticky appbar__logo" aria-hidden="true"></i>
        <span class="appbar__brand">Docs Clone</span>
      </div>
      <div class="appbar__right">
        <button id="theme-toggle" class="icon-btn" title="Toggle theme" aria-label="Toggle theme">
          <i class="fa-solid fa-moon"></i>
        </button>
      </div>
    </header>

    <main class="container">
      <!-- Title row -->
      <section class="title-row">
        <input id="doc-title" class="title-input" placeholder="Untitled document" aria-label="Document title" />
        <div class="actions">
          <button id="btn-new" class="btn"><i class="fa-solid fa-file-circle-plus"></i><span>New</span></button>
          <button id="btn-import" class="btn"><i class="fa-solid fa-file-arrow-up"></i><span>Import</span></button>
          <button id="btn-save-html" class="btn"><i class="fa-solid fa-floppy-disk"></i><span>Save HTML</span></button>
          <button id="btn-export-md" class="btn"><i class="fa-brands fa-markdown"></i><span>Export MD</span></button>
          <button id="btn-export-pdf" class="btn"><i class="fa-solid fa-file-pdf"></i><span>Export PDF</span></button>
          <button id="btn-clear" class="btn btn-danger"><i class="fa-solid fa-trash"></i><span>Clear Data</span></button>

          <label class="versions" title="Restore a previous autosave snapshot">
            <i class="fa-solid fa-clock-rotate-left"></i>
            <span>Versions</span>
            <select id="version-select">
              <option>(none)</option>
            </select>
            <button id="btn-restore" class="btn btn-secondary">Restore</button>
          </label>

          <input id="file-input" type="file" accept=".html,.htm,.json" hidden />
        </div>
      </section>

      <!-- Toolbar (Quill) -->
      <div id="toolbar" class="toolbar">
        <span class="ql-formats">
          <select class="ql-header">
            <option selected></option>
            <option value="1">H1</option>
            <option value="2">H2</option>
            <option value="3">H3</option>
          </select>
          <select class="ql-size">
            <option value="small"></option>
            <option selected></option>
            <option value="large"></option>
            <option value="huge"></option>
          </select>
        </span>
        <span class="ql-formats">
          <button class="ql-bold"></button>
          <button class="ql-italic"></button>
          <button class="ql-underline"></button>
          <button class="ql-strike"></button>
        </span>
        <span class="ql-formats">
          <select class="ql-color"></select>
          <select class="ql-background"></select>
        </span>
        <span class="ql-formats">
          <button class="ql-list" value="ordered"></button>
          <button class="ql-list" value="bullet"></button>
          <button class="ql-blockquote"></button>
          <button class="ql-code-block"></button>
        </span>
        <span class="ql-formats">
          <button class="ql-link"></button>
          <button class="ql-image"></button>
        </span>
        <span class="ql-formats">
          <button id="btn-undo" type="button" title="Undo"><i class="fa-solid fa-rotate-left"></i></button>
          <button id="btn-redo" type="button" title="Redo"><i class="fa-solid fa-rotate-right"></i></button>
          <button class="ql-clean"></button>
        </span>
      </div>

      <!-- Page & Editor -->
      <section id="page" class="page">
        <div id="editor" class="editor"></div>
      </section>

      <!-- Status bar -->
      <footer class="status-bar">
        <div>
          <span id="word-count">0</span> words Â· <span id="char-count">0</span> chars
        </div>
        <div id="save-indicator" class="save-indicator" aria-live="polite">&nbsp;</div>
      </footer>
    </main>

    <!-- Scripts: Quill, Turndown, html2pdf, App -->
    <script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/turndown@7.1.2/dist/turndown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js"></script>
    <script src="{% static 'editor/js/app.js' %}"></script>
  </body>
</html>
